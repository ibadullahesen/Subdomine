<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Premium CV Generator</title>
    <style>
        :root {
            --primary-color: #3498db;
            --secondary-color: #2c3e50;
            --background-color: #f5f7fa;
            --text-color: #333;
            --border-color: #ddd;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--background-color);
            color: var(--text-color);
            display: flex;
            flex-direction: column;
            height: 100vh;
            overflow: hidden;
        }

        .header {
            background-color: var(--secondary-color);
            color: white;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
        }

        .language-selector {
            display: flex;
            gap: 10px;
        }

        .lang-btn {
            background: none;
            border: 1px solid rgba(255,255,255,0.3);
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .lang-btn.active {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
        }

        .main-container {
            display: flex;
            flex: 1;
            overflow: hidden;
        }

        .editor-panel {
            width: 40%;
            background-color: white;
            padding: 20px;
            overflow-y: auto;
            box-shadow: 2px 0 5px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .preview-panel {
            width: 60%;
            background-color: #e9ecef;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            position: relative;
            overflow: auto;
        }

        .a4-container {
            background-color: white;
            width: 210mm;
            min-height: 297mm;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            padding: 20mm;
            position: relative;
            transition: transform 0.3s;
        }

        .section {
            margin-bottom: 20px;
        }

        .section-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 10px;
            color: var(--secondary-color);
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 5px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
        }

        input, textarea, select {
            width: 100%;
            padding: 8px 10px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            font-size: 14px;
        }

        textarea {
            min-height: 80px;
            resize: vertical;
        }

        .image-upload {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .image-preview {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            overflow: hidden;
            border: 2px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #f8f9fa;
        }

        .image-preview img {
            max-width: 100%;
            max-height: 100%;
            object-fit: cover;
        }

        .image-controls {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .btn {
            padding: 8px 15px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
            font-size: 14px;
        }

        .btn:hover {
            background-color: #2980b9;
        }

        .btn-secondary {
            background-color: #6c757d;
        }

        .btn-secondary:hover {
            background-color: #5a6268;
        }

        .download-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 12px 25px;
            background-color: #27ae60;
            font-size: 16px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }

        .download-btn:hover {
            background-color: #219653;
        }

        .controls-group {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .controls-group input[type="range"] {
            flex: 1;
        }

        .value-display {
            min-width: 40px;
            text-align: center;
        }

        .color-picker {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .color-input {
            width: 40px !important;
            height: 40px;
            padding: 0;
            border: none;
            cursor: pointer;
        }

        .resume-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .resume-photo {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            overflow: hidden;
            margin-right: 20px;
            border: 2px solid var(--border-color);
        }

        .resume-photo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .resume-info {
            flex: 1;
        }

        .resume-name {
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .resume-title {
            font-size: 18px;
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        .resume-contact {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            font-size: 14px;
        }

        .resume-section {
            margin-bottom: 20px;
        }

        .resume-section-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 10px;
            color: var(--secondary-color);
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 5px;
        }

        .resume-item {
            margin-bottom: 15px;
        }

        .resume-item-title {
            font-weight: bold;
            margin-bottom: 5px;
        }

        .resume-item-subtitle {
            font-style: italic;
            color: #666;
            margin-bottom: 5px;
        }

        .resume-item-date {
            color: #888;
            font-size: 14px;
            margin-bottom: 5px;
        }

        .resume-skills {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .skill-tag {
            background-color: var(--primary-color);
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 14px;
        }

        @media print {
            body * {
                visibility: hidden;
            }
            .a4-container, .a4-container * {
                visibility: visible;
            }
            .a4-container {
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
                box-shadow: none;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="logo">Premium CV Generator</div>
        <div class="language-selector">
            <button class="lang-btn active" data-lang="az">AZ</button>
            <button class="lang-btn" data-lang="tr">TR</button>
            <button class="lang-btn" data-lang="en">EN</button>
        </div>
    </div>

    <div class="main-container">
        <div class="editor-panel">
            <div class="section">
                <div class="section-title" data-key="personalInfo">Şəxsi Məlumatlar</div>
                <div class="form-group">
                    <label for="fullName" data-key="fullName">Ad Soyad</label>
                    <input type="text" id="fullName" placeholder="Adınızı və soyadınızı daxil edin">
                </div>
                <div class="form-group">
                    <label for="jobTitle" data-key="jobTitle">İş Titulu</label>
                    <input type="text" id="jobTitle" placeholder="Məsələn: Veb Developer">
                </div>
                <div class="form-group">
                    <label for="email" data-key="email">E-poçt</label>
                    <input type="email" id="email" placeholder="example@mail.com">
                </div>
                <div class="form-group">
                    <label for="phone" data-key="phone">Telefon</label>
                    <input type="text" id="phone" placeholder="+994 XX XXX XX XX">
                </div>
                <div class="form-group">
                    <label for="address" data-key="address">Ünvan</label>
                    <input type="text" id="address" placeholder="Yaşadığınız ünvan">
                </div>
            </div>

            <div class="section">
                <div class="section-title" data-key="profilePhoto">Profil Şəkli</div>
                <div class="image-upload">
                    <div class="image-preview">
                        <img id="photoPreview" src="" alt="Profil şəkli" style="display: none;">
                        <span data-key="noPhoto">Şəkil yoxdur</span>
                    </div>
                    <input type="file" id="photoUpload" accept="image/*" style="display: none;">
                    <button class="btn" id="uploadBtn" data-key="selectPhoto">Şəkil Seç</button>
                    <div class="image-controls">
                        <button class="btn btn-secondary" id="zoomInBtn">Böyüt</button>
                        <button class="btn btn-secondary" id="zoomOutBtn">Kiçilt</button>
                        <button class="btn btn-secondary" id="cropBtn">Kırp</button>
                        <button class="btn btn-secondary" id="resetPhotoBtn">Sıfırla</button>
                    </div>
                </div>
            </div>

            <div class="section">
                <div class="section-title" data-key="professionalSummary">Peşəkar Xülasə</div>
                <div class="form-group">
                    <textarea id="summary" placeholder="Özünüz haqqında qısa məlumat"></textarea>
                </div>
            </div>

            <div class="section">
                <div class="section-title" data-key="workExperience">İş Təcrübəsi</div>
                <div class="form-group">
                    <label for="company" data-key="company">Şirkət</label>
                    <input type="text" id="company" placeholder="Şirkət adı">
                </div>
                <div class="form-group">
                    <label for="position" data-key="position">Vəzifə</label>
                    <input type="text" id="position" placeholder="İşlədiyiniz vəzifə">
                </div>
                <div class="form-group">
                    <label for="workDate" data-key="workPeriod">İşləmə Müddəti</label>
                    <input type="text" id="workDate" placeholder="Məsələn: 2020-2022">
                </div>
                <div class="form-group">
                    <label for="workDescription" data-key="description">Təsvir</label>
                    <textarea id="workDescription" placeholder="İş təcrübənizin təsviri"></textarea>
                </div>
                <button class="btn" id="addExperienceBtn" data-key="addExperience">Təcrübə Əlavə Et</button>
            </div>

            <div class="section">
                <div class="section-title" data-key="education">Təhsil</div>
                <div class="form-group">
                    <label for="school" data-key="school">Təhsil Müəssisəsi</label>
                    <input type="text" id="school" placeholder="Universitet və ya məktəb adı">
                </div>
                <div class="form-group">
                    <label for="degree" data-key="degree">Dərəcə</label>
                    <input type="text" id="degree" placeholder="Məsələn: Bakalavr">
                </div>
                <div class="form-group">
                    <label for="educationDate" data-key="educationPeriod">Təhsil Müddəti</label>
                    <input type="text" id="educationDate" placeholder="Məsələn: 2016-2020">
                </div>
                <button class="btn" id="addEducationBtn" data-key="addEducation">Təhsil Əlavə Et</button>
            </div>

            <div class="section">
                <div class="section-title" data-key="skills">Bacarıqlar</div>
                <div class="form-group">
                    <label for="skillInput" data-key="skill">Bacarıq</label>
                    <input type="text" id="skillInput" placeholder="Məsələn: JavaScript">
                </div>
                <button class="btn" id="addSkillBtn" data-key="addSkill">Bacarıq Əlavə Et</button>
            </div>

            <div class="section">
                <div class="section-title" data-key="designSettings">Dizayn Parametrləri</div>
                <div class="form-group">
                    <label for="fontFamily" data-key="fontFamily">Şrift Növü</label>
                    <select id="fontFamily">
                        <option value="Arial, sans-serif">Arial</option>
                        <option value="'Times New Roman', serif">Times New Roman</option>
                        <option value="'Segoe UI', Tahoma, Geneva, Verdana, sans-serif">Segoe UI</option>
                        <option value="Georgia, serif">Georgia</option>
                        <option value="'Courier New', monospace">Courier New</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="fontSize" data-key="fontSize">Şrift Ölçüsü</label>
                    <div class="controls-group">
                        <input type="range" id="fontSize" min="10" max="24" value="14">
                        <span class="value-display" id="fontSizeValue">14px</span>
                    </div>
                </div>
                <div class="form-group">
                    <label for="lineHeight" data-key="lineHeight">Sətir Hündürlüyü</label>
                    <div class="controls-group">
                        <input type="range" id="lineHeight" min="1" max="2" step="0.1" value="1.4">
                        <span class="value-display" id="lineHeightValue">1.4</span>
                    </div>
                </div>
                <div class="form-group">
                    <label for="primaryColor" data-key="primaryColor">Əsas Rəng</label>
                    <div class="color-picker">
                        <input type="color" id="primaryColor" class="color-input" value="#3498db">
                        <span id="primaryColorValue">#3498db</span>
                    </div>
                </div>
                <div class="form-group">
                    <label for="secondaryColor" data-key="secondaryColor">İkinci Rəng</label>
                    <div class="color-picker">
                        <input type="color" id="secondaryColor" class="color-input" value="#2c3e50">
                        <span id="secondaryColorValue">#2c3e50</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="preview-panel">
            <div class="a4-container" id="resumePreview">
                <div class="resume-header">
                    <div class="resume-photo">
                        <img id="resumePhoto" src="" alt="" style="display: none;">
                    </div>
                    <div class="resume-info">
                        <div class="resume-name" id="previewName">Ad Soyad</div>
                        <div class="resume-title" id="previewTitle">İş Titulu</div>
                        <div class="resume-contact">
                            <div id="previewEmail">example@mail.com</div>
                            <div id="previewPhone">+994 XX XXX XX XX</div>
                            <div id="previewAddress">Ünvan</div>
                        </div>
                    </div>
                </div>

                <div class="resume-section">
                    <div class="resume-section-title" data-key="professionalSummary">Peşəkar Xülasə</div>
                    <div class="resume-item">
                        <div id="previewSummary">Burada peşəkar xülasəniz görünəcək.</div>
                    </div>
                </div>

                <div class="resume-section">
                    <div class="resume-section-title" data-key="workExperience">İş Təcrübəsi</div>
                    <div id="previewExperience">
                        <div class="resume-item">
                            <div class="resume-item-title">Şirkət Adı</div>
                            <div class="resume-item-subtitle">Vəzifə</div>
                            <div class="resume-item-date">İşləmə Müddəti</div>
                            <div>İş təsviri burada görünəcək.</div>
                        </div>
                    </div>
                </div>

                <div class="resume-section">
                    <div class="resume-section-title" data-key="education">Təhsil</div>
                    <div id="previewEducation">
                        <div class="resume-item">
                            <div class="resume-item-title">Təhsil Müəssisəsi</div>
                            <div class="resume-item-subtitle">Dərəcə</div>
                            <div class="resume-item-date">Təhsil Müddəti</div>
                        </div>
                    </div>
                </div>

                <div class="resume-section">
                    <div class="resume-section-title" data-key="skills">Bacarıqlar</div>
                    <div class="resume-skills" id="previewSkills">
                        <div class="skill-tag">Nümunə Bacarıq</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <button class="btn download-btn" id="downloadBtn" data-key="downloadCV">CV-ni Yüklə</button>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script>
        // Dil dəyişdirmə funksionallığı
        const translations = {
            az: {
                personalInfo: "Şəxsi Məlumatlar",
                fullName: "Ad Soyad",
                jobTitle: "İş Titulu",
                email: "E-poçt",
                phone: "Telefon",
                address: "Ünvan",
                profilePhoto: "Profil Şəkli",
                noPhoto: "Şəkil yoxdur",
                selectPhoto: "Şəkil Seç",
                professionalSummary: "Peşəkar Xülasə",
                workExperience: "İş Təcrübəsi",
                company: "Şirkət",
                position: "Vəzifə",
                workPeriod: "İşləmə Müddəti",
                description: "Təsvir",
                addExperience: "Təcrübə Əlavə Et",
                education: "Təhsil",
                school: "Təhsil Müəssisəsi",
                degree: "Dərəcə",
                educationPeriod: "Təhsil Müddəti",
                addEducation: "Təhsil Əlavə Et",
                skills: "Bacarıqlar",
                skill: "Bacarıq",
                addSkill: "Bacarıq Əlavə Et",
                designSettings: "Dizayn Parametrləri",
                fontFamily: "Şrift Növü",
                fontSize: "Şrift Ölçüsü",
                lineHeight: "Sətir Hündürlüyü",
                primaryColor: "Əsas Rəng",
                secondaryColor: "İkinci Rəng",
                downloadCV: "CV-ni Yüklə"
            },
            tr: {
                personalInfo: "Kişisel Bilgiler",
                fullName: "Ad Soyad",
                jobTitle: "İş Unvanı",
                email: "E-posta",
                phone: "Telefon",
                address: "Adres",
                profilePhoto: "Profil Fotoğrafı",
                noPhoto: "Fotoğraf yok",
                selectPhoto: "Fotoğraf Seç",
                professionalSummary: "Profesyonel Özet",
                workExperience: "İş Deneyimi",
                company: "Şirket",
                position: "Pozisyon",
                workPeriod: "Çalışma Süresi",
                description: "Açıklama",
                addExperience: "Deneyim Ekle",
                education: "Eğitim",
                school: "Eğitim Kurumu",
                degree: "Derece",
                educationPeriod: "Eğitim Süresi",
                addEducation: "Eğitim Ekle",
                skills: "Yetenekler",
                skill: "Yetenek",
                addSkill: "Yetenek Ekle",
                designSettings: "Tasarım Ayarları",
                fontFamily: "Yazı Tipi",
                fontSize: "Yazı Boyutu",
                lineHeight: "Satır Yüksekliği",
                primaryColor: "Ana Renk",
                secondaryColor: "İkinci Renk",
                downloadCV: "CV'yi İndir"
            },
            en: {
                personalInfo: "Personal Information",
                fullName: "Full Name",
                jobTitle: "Job Title",
                email: "Email",
                phone: "Phone",
                address: "Address",
                profilePhoto: "Profile Photo",
                noPhoto: "No photo",
                selectPhoto: "Select Photo",
                professionalSummary: "Professional Summary",
                workExperience: "Work Experience",
                company: "Company",
                position: "Position",
                workPeriod: "Work Period",
                description: "Description",
                addExperience: "Add Experience",
                education: "Education",
                school: "School",
                degree: "Degree",
                educationPeriod: "Education Period",
                addEducation: "Add Education",
                skills: "Skills",
                skill: "Skill",
                addSkill: "Add Skill",
                designSettings: "Design Settings",
                fontFamily: "Font Family",
                fontSize: "Font Size",
                lineHeight: "Line Height",
                primaryColor: "Primary Color",
                secondaryColor: "Secondary Color",
                downloadCV: "Download CV"
            }
        };

        let currentLang = 'az';
        
        // Dil dəyişdirmə funksiyası
        function changeLanguage(lang) {
            currentLang = lang;
            
            // Dil düymələrini yenilə
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.getAttribute('data-lang') === lang) {
                    btn.classList.add('active');
                }
            });
            
            // Mətnləri yenilə
            document.querySelectorAll('[data-key]').forEach(element => {
                const key = element.getAttribute('data-key');
                if (translations[lang][key]) {
                    if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                        element.placeholder = translations[lang][key];
                    } else {
                        element.textContent = translations[lang][key];
                    }
                }
            });
        }

        // Dil dəyişdirmə hadisələri
        document.querySelectorAll('.lang-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                changeLanguage(this.getAttribute('data-lang'));
            });
        });

        // Real-time yeniləmə funksiyaları
        function updatePreview() {
            // Şəxsi məlumatlar
            document.getElementById('previewName').textContent = document.getElementById('fullName').value || 'Ad Soyad';
            document.getElementById('previewTitle').textContent = document.getElementById('jobTitle').value || 'İş Titulu';
            document.getElementById('previewEmail').textContent = document.getElementById('email').value || 'example@mail.com';
            document.getElementById('previewPhone').textContent = document.getElementById('phone').value || '+994 XX XXX XX XX';
            document.getElementById('previewAddress').textContent = document.getElementById('address').value || 'Ünvan';
            
            // Peşəkar xülasə
            document.getElementById('previewSummary').textContent = document.getElementById('summary').value || 'Burada peşəkar xülasəniz görünəcək.';
        }

        // Giriş sahələri üçün real-time yeniləmə
        document.querySelectorAll('#fullName, #jobTitle, #email, #phone, #address, #summary').forEach(input => {
            input.addEventListener('input', updatePreview);
        });

        // Şəkil yükləmə
        document.getElementById('uploadBtn').addEventListener('click', function() {
            document.getElementById('photoUpload').click();
        });

        document.getElementById('photoUpload').addEventListener('change', function(e) {
            if (e.target.files && e.target.files[0]) {
                const reader = new FileReader();
                
                reader.onload = function(e) {
                    document.getElementById('photoPreview').src = e.target.result;
                    document.getElementById('photoPreview').style.display = 'block';
                    document.querySelector('.image-preview span').style.display = 'none';
                    
                    document.getElementById('resumePhoto').src = e.target.result;
                    document.getElementById('resumePhoto').style.display = 'block';
                }
                
                reader.readAsDataURL(e.target.files[0]);
            }
        });

        // Şəkil idarəetmə düymələri
        document.getElementById('zoomInBtn').addEventListener('click', function() {
            const img = document.getElementById('resumePhoto');
            const currentWidth = parseInt(window.getComputedStyle(img).width);
            img.style.width = (currentWidth + 20) + 'px';
        });

        document.getElementById('zoomOutBtn').addEventListener('click', function() {
            const img = document.getElementById('resumePhoto');
            const currentWidth = parseInt(window.getComputedStyle(img).width);
            if (currentWidth > 50) {
                img.style.width = (currentWidth - 20) + 'px';
            }
        });

        document.getElementById('cropBtn').addEventListener('click', function() {
            alert('Kırpma funksionallığı aktivləşdirildi. Bu, tam bir həyata keçirmə tələb edən bir xüsusiyyətdir.');
        });

        document.getElementById('resetPhotoBtn').addEventListener('click', function() {
            document.getElementById('photoPreview').src = '';
            document.getElementById('photoPreview').style.display = 'none';
            document.querySelector('.image-preview span').style.display = 'block';
            
            document.getElementById('resumePhoto').src = '';
            document.getElementById('resumePhoto').style.display = 'none';
            document.getElementById('photoUpload').value = '';
        });

        // Təcrübə əlavə et
        document.getElementById('addExperienceBtn').addEventListener('click', function() {
            const company = document.getElementById('company').value;
            const position = document.getElementById('position').value;
            const workDate = document.getElementById('workDate').value;
            const workDescription = document.getElementById('workDescription').value;
            
            if (company && position) {
                const experienceDiv = document.createElement('div');
                experienceDiv.className = 'resume-item';
                experienceDiv.innerHTML = `
                    <div class="resume-item-title">${company}</div>
                    <div class="resume-item-subtitle">${position}</div>
                    <div class="resume-item-date">${workDate}</div>
                    <div>${workDescription}</div>
                `;
                
                document.getElementById('previewExperience').appendChild(experienceDiv);
                
                // Giriş sahələrini təmizlə
                document.getElementById('company').value = '';
                document.getElementById('position').value = '';
                document.getElementById('workDate').value = '';
                document.getElementById('workDescription').value = '';
            } else {
                alert('Zəhmət olmasa şirkət və vəzifə məlumatlarını daxil edin.');
            }
        });

        // Təhsil əlavə et
        document.getElementById('addEducationBtn').addEventListener('click', function() {
            const school = document.getElementById('school').value;
            const degree = document.getElementById('degree').value;
            const educationDate = document.getElementById('educationDate').value;
            
            if (school && degree) {
                const educationDiv = document.createElement('div');
                educationDiv.className = 'resume-item';
                educationDiv.innerHTML = `
                    <div class="resume-item-title">${school}</div>
                    <div class="resume-item-subtitle">${degree}</div>
                    <div class="resume-item-date">${educationDate}</div>
                `;
                
                document.getElementById('previewEducation').appendChild(educationDiv);
                
                // Giriş sahələrini təmizlə
                document.getElementById('school').value = '';
                document.getElementById('degree').value = '';
                document.getElementById('educationDate').value = '';
            } else {
                alert('Zəhmət olmasa təhsil müəssisəsi və dərəcə məlumatlarını daxil edin.');
            }
        });

        // Bacarıq əlavə et
        document.getElementById('addSkillBtn').addEventListener('click', function() {
            const skill = document.getElementById('skillInput').value;
            
            if (skill) {
                const skillTag = document.createElement('div');
                skillTag.className = 'skill-tag';
                skillTag.textContent = skill;
                
                document.getElementById('previewSkills').appendChild(skillTag);
                
                // Giriş sahəsini təmizlə
                document.getElementById('skillInput').value = '';
            } else {
                alert('Zəhmət olmasa bir bacarıq daxil edin.');
            }
        });

        // Dizayn parametrləri
        document.getElementById('fontFamily').addEventListener('change', function() {
            document.getElementById('resumePreview').style.fontFamily = this.value;
        });

        document.getElementById('fontSize').addEventListener('input', function() {
            const fontSize = this.value + 'px';
            document.getElementById('resumePreview').style.fontSize = fontSize;
            document.getElementById('fontSizeValue').textContent = fontSize;
        });

        document.getElementById('lineHeight').addEventListener('input', function() {
            document.getElementById('resumePreview').style.lineHeight = this.value;
            document.getElementById('lineHeightValue').textContent = this.value;
        });

        document.getElementById('primaryColor').addEventListener('input', function() {
            const color = this.value;
            document.documentElement.style.setProperty('--primary-color', color);
            document.getElementById('primaryColorValue').textContent = color;
        });

        document.getElementById('secondaryColor').addEventListener('input', function() {
            const color = this.value;
            document.documentElement.style.setProperty('--secondary-color', color);
            document.getElementById('secondaryColorValue').textContent = color;
        });

        // PDF yükləmə
        document.getElementById('downloadBtn').addEventListener('click', function() {
            const { jsPDF } = window.jspdf;
            const element = document.getElementById('resumePreview');
            
            html2canvas(element, {
                scale: 2,
                useCORS: true,
                logging: false
            }).then(canvas => {
                const imgData = canvas.toDataURL('image/png');
                const pdf = new jsPDF('p', 'mm', 'a4');
                const imgWidth = 210;
                const pageHeight = 295;
                const imgHeight = canvas.height * imgWidth / canvas.width;
                let heightLeft = imgHeight;
                let position = 0;

                pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);
                heightLeft -= pageHeight;

                while (heightLeft >= 0) {
                    position = heightLeft - imgHeight;
                    pdf.addPage();
                    pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);
                    heightLeft -= pageHeight;
                }

                pdf.save('my-cv.pdf');
            });
        });

        // A4 sənədini sürükləmə
        let isDragging = false;
        let startY;
        let scrollTop;
        
        document.querySelector('.preview-panel').addEventListener('mousedown', function(e) {
            isDragging = true;
            startY = e.pageY - this.offsetTop;
            scrollTop = this.scrollTop;
        });

        document.addEventListener('mousemove', function(e) {
            if (!isDragging) return;
            e.preventDefault();
            const y = e.pageY - document.querySelector('.preview-panel').offsetTop;
            const walk = (y - startY) * 2;
            document.querySelector('.preview-panel').scrollTop = scrollTop - walk;
        });

        document.addEventListener('mouseup', function() {
            isDragging = false;
        });

        // İlkin dəyərləri təyin et
        updatePreview();
    </script>
</body>
</html>
