<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neon Hand Control - Precise Picking</title>
    <!-- MediaPipe Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js" crossorigin="anonymous"></script>
   
    <style>
        :root {
            --neon-blue: #00f2ff;
            --neon-purple: #ff00ea;
            --neon-yellow: #ffea00;
            --neon-green: #39ff14;
            --neon-red: #ff3131;
            --dark-bg: #050505;
            --panel-bg: rgba(0, 242, 255, 0.08);
        }
        body, html {
            margin: 0; padding: 0;
            width: 100%; height: 100%;
            overflow: hidden;
            background-color: var(--dark-bg);
            font-family: 'Courier New', Courier, monospace;
            color: var(--neon-blue);
        }
        #input_video { display: none; }
        #output_canvas {
            position: absolute;
            top: 0; left: 0;
            width: 100vw; height: 100vh;
            z-index: 5;
            transform: scaleX(-1);
            will-change: transform;
        }
        .ui-overlay {
            position: absolute;
            top: 20px; left: 20px;
            z-index: 10;
            pointer-events: none;
        }
        .status-panel {
            background: var(--panel-bg);
            border: 1px solid var(--neon-blue);
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 0 20px rgba(0, 242, 255, 0.2);
            backdrop-filter: blur(10px);
        }
        .mode-indicator {
            font-size: 1.4rem;
            font-weight: bold;
            text-transform: uppercase;
            margin-top: 8px;
            display: block;
            text-shadow: 0 0 8px var(--neon-blue);
        }
        /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        /* Yeni É™lavÉ™ olunan keÃ§id dÃ¼ymÉ™si stil bloku */
        .switch-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            z-index: 25;
            background: rgba(255, 234, 0, 0.12);
            border: 1px solid var(--neon-yellow);
            color: var(--neon-yellow);
            padding: 10px 24px;
            cursor: pointer;
            font-family: inherit;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
            border-radius: 6px;
            transition: all 0.25s ease;
            box-shadow: 0 0 12px rgba(255, 234, 0, 0.3);
            pointer-events: auto;
        }
        .switch-btn:hover {
            background: var(--neon-yellow);
            color: #000;
            box-shadow: 0 0 25px var(--neon-yellow);
            transform: translateY(-1px);
        }
        /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

        .clear-btn {
            position: absolute;
            bottom: 20px;
            left: 20px;
            z-index: 20;
            background: rgba(255, 49, 49, 0.1);
            border: 1px solid var(--neon-red);
            color: var(--neon-red);
            padding: 12px 20px;
            cursor: pointer;
            font-family: inherit;
            font-weight: bold;
            text-transform: uppercase;
            border-radius: 4px;
            transition: all 0.2s ease;
            box-shadow: 0 0 10px rgba(255, 49, 49, 0.2);
            pointer-events: auto;
        }
        .clear-btn:hover {
            background: var(--neon-red);
            color: #fff;
            box-shadow: 0 0 20px var(--neon-red);
        }
        .instructions {
            position: absolute;
            bottom: 20px; right: 20px;
            font-size: 0.85rem;
            text-align: right;
            background: rgba(0,0,0,0.85);
            padding: 15px;
            border-right: 4px solid var(--neon-blue);
            z-index: 10;
            line-height: 1.6;
        }
        #loading-screen {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: var(--dark-bg);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 100;
        }
        .loader {
            border: 3px solid #111;
            border-top: 3px solid var(--neon-blue);
            border-radius: 50%;
            width: 40px; height: 40px;
            animation: spin 0.8s linear infinite;
        }
        @keyframes spin { 100% { transform: rotate(360deg); } }
    </style>
</head>
<body>

    <div id="loading-screen">
        <div class="loader"></div>
        <p style="margin-top: 20px; letter-spacing: 3px;">YÃœKLÆNÄ°R...</p>
    </div>

    <!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Yeni keÃ§id dÃ¼ymÉ™si â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
    <button class="switch-btn" onclick="window.location.href='saturn.html'">
        â†’ SATURN 3D
    </button>
    <!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->

    <button class="clear-btn" onclick="clearCanvas()">ğŸ—‘ TÆMÄ°ZLÆ</button>

    <div class="ui-overlay">
        <div class="status-panel">
            <div style="font-size: 0.7rem; opacity: 0.7;">SÄ°STEM: OPTÄ°MÄ°ZÆ EDÄ°LDÄ°</div>
            <div class="mode-indicator" id="current-mode">MÃœÅAHÄ°DÆ</div>
        </div>
    </div>

    <div class="instructions">
        [TUTMA MÆNTÄ°QÄ°]<br>
        1. Obyektin xÉ™ttinÉ™ yaxÄ±nlaÅŸÄ±n<br>
        2. BaÅŸ vÉ™ ÅŸÉ™hadÉ™t barmaÄŸÄ± sÄ±xÄ±n (Pinch)<br>
        3. <span style="color:var(--neon-green)">XÆTDÆN TUTUB</span> hÉ™rÉ™kÉ™t etdirin
    </div>

    <video id="input_video"></video>
    <canvas id="output_canvas"></canvas>

    <script>
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        // ÆvvÉ™lki bÃ¼tÃ¼n kod eynidir, dÉ™yiÅŸmÉ™z
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

        const videoElement = document.getElementById('input_video');
        const canvasElement = document.getElementById('output_canvas');
        const canvasCtx = canvasElement.getContext('2d', { alpha: false });
        const modeText = document.getElementById('current-mode');
        const loadingScreen = document.getElementById('loading-screen');
        let drawings = [];
        let currentPath = null;
        let selectedDrawing = null;
        let isDragging = false;
        let currentMode = "MÃœÅAHÄ°DÆ";
        let lastFingerPos = { x: 0, y: 0 };
        let initialDistance = null;
        let initialScale = 1;
        let initialAngle = null;
        let drawingBaseAngle = 0;

    </script>
</body>
</html>
